<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Yin Yang â€” Minimal Spinner (April Edition)</title>

<style>
html, body {
  margin: 0;
  background: black;
  height: 100%;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: system-ui, sans-serif;
  color: #ddd;
}

#container {
  width: 420px;
  height: 420px;
  position: relative;
}

svg {
  width: 100%;
  height: 100%;
  transform-origin: 50% 50%;
  user-select: none;
}

#hud {
  position: absolute;
  bottom: -120px;
  width: 100%;
  text-align: center;
  font-size: 14px;
  opacity: 0.88;
}

.controls {
  display: inline-flex;
  gap: 10px;
  margin-top: 8px;
  justify-content: center;
}

button {
  background: #111;
  color: #ddd;
  border: 1px solid #444;
  border-radius: 10px;
  padding: 6px 14px;
  cursor: pointer;
}

input[type="range"] {
  width: 240px;
}
</style>
</head>

<body>

<div id="container">
  <svg id="spinner" viewBox="-100 -100 200 200">
    <g>
      <circle r="100" fill="white"/>
      <path d="
        M 0 -100
        A 100 100 0 0 1 0 100
        A 50 50 0 0 0 0 0
        A 50 50 0 0 1 0 -100
      " fill="black"/>
      <circle cx="0" cy="-50" r="50" fill="white"/>
      <circle cx="0" cy="50"  r="50" fill="black"/>
      <circle cx="0" cy="-42" r="14" fill="black"/>
      <circle cx="0" cy="42"  r="14" fill="white"/>
    </g>
  </svg>

  <div id="hud">
    <div><strong>RPM:</strong> <span id="rpm">0.0</span></div>

    <div style="margin-top:6px;">
      <input id="rpmSlider" type="range" min="0" max="600" value="0">
    </div>

    <div class="controls">
      <button id="toggleBtn">Start</button>
      <button id="resetBtn">Reset</button>
    </div>
  </div>
</div>

<script>
const spinner = document.getElementById("spinner");
const rpmEl = document.getElementById("rpm");
const slider = document.getElementById("rpmSlider");
const toggleBtn = document.getElementById("toggleBtn");
const resetBtn = document.getElementById("resetBtn");

let angle = 0;
let speed = 0;
let targetRPM = 0;
let running = false;

let last = performance.now();

function rpmToDeg(rpm) { return rpm * 6; }
function clamp(v,min,max){ return Math.max(min,Math.min(max,v)); }

function setRunning(v){
  running = v;
  toggleBtn.textContent = running ? "Stop" : "Start";
}

slider.addEventListener("input", () => {
  targetRPM = Number(slider.value);
});

toggleBtn.addEventListener("click", () => {
  setRunning(!running);
});

resetBtn.addEventListener("click", () => {
  angle = 0;
  speed = 0;
  targetRPM = 0;
  slider.value = 0;
  setRunning(false);
  spinner.style.transform = "rotate(0deg)";
  rpmEl.textContent = "0.0";
});

window.addEventListener("keydown", e => {
  if (e.key === " ") {
    e.preventDefault();
    setRunning(!running);
  }
  if (e.key === "ArrowUp") {
    targetRPM = clamp(targetRPM + 5, 0, 600);
    slider.value = targetRPM;
  }
  if (e.key === "ArrowDown") {
    targetRPM = clamp(targetRPM - 5, 0, 600);
    slider.value = targetRPM;
  }
});

function tick(now){
  const dt = (now - last) / 1000;
  last = now;

  if (running) {
    const targetSpeed = rpmToDeg(targetRPM);
    const accel = 420;
    const delta = targetSpeed - speed;
    speed += Math.sign(delta) * Math.min(Math.abs(delta), accel * dt);
    angle = (angle + speed * dt) % 360;
    spinner.style.transform = `rotate(${angle}deg)`;
    rpmEl.textContent = (speed / 6).toFixed(1);
  }

  requestAnimationFrame(tick);
}

requestAnimationFrame(tick);
</script>

</body>
</html>

